{% extends "AppBundle::base.html.twig" %}

{% block header %}
	<title>{{ contact.metaTitle }}</title>
	<meta name="description" content="{{ contact.metaDescription }}">
{% endblock %}

{% block body %}
{% if website.disabled %}
{% include 'AppBundle:partials:website_disabled.html.twig' %}
{% else %}
<section class="contact_banner">
	<div class="container">
		<div class="banner_content_top">
				<p>&nbsp;</p>
				<p>{{ contact.headerText }}</p>
		</div>
		<div class="banner_content_bottom">
			<h2>{{ contact.headerTitle }}</h2>
		</div>
	</div>
</section>
<section class="bodybox3">
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				<div class="about_head">
					<h2>Request A Quote</h2>
				</div>
				{% if app.request.get('sent') == 'true' %}
				<div class="row">
					<div class="col-sm-4 col-sm-offset-4 text-center">
						<div class="alert alert-success"><b>Quote Request Sent Successfully.</b> <br><br> We Will Get In Touch With You Soon.</div>
					</div>
				</div>
				{% else %}
				<form name="contactForm" class="form-horizontal" method="post" action="{{ path('contact') }}#cf1" >
				<div class="cf1">
					<h2>Contact Information</h2>
					<div class="contact_inner_form">
							  <div class="form-group">
							    <label for="inputEmail3" class="col-sm-2 control-label">Name *</label>
							    <div class="col-sm-10">
										{{ form_widget(form.name, { 'attr': {'class': 'form-control', 'placeholder' : 'Enter your name', 'ng-model' : 'contact.name'} }) }}
							    </div>
							  </div>
							  <div class="form-group">
							    <label for="inputPassword3" class="col-sm-2 control-label">Email</label>
							    <div class="col-sm-10">
							      {{ form_widget(form.email, { 'attr': {'class': 'form-control', 'placeholder' : 'Enter your email', 'ng-model' : 'contact.email', 'required' : 'false'} }) }}
							    </div>
							  </div>
								<div class="form-group">
							    <label for="inputPassword3" class="col-sm-2 control-label">Phone *</label>
							    <div class="col-sm-10">
							      {{ form_widget(form.phone, { 'attr': {'class': 'form-control', 'placeholder' : 'Enter your phone', 'ng-model' : 'contact.phone'} }) }}
							    </div>
							  </div>
					</div>
				</div>
				<div class="cf1">
					<h2>Job Information</h2>
					<div class="contact_inner_form">
						  <div class="form-group">
						    <label for="inputPassword3" class="col-sm-2 control-label">Job Location *</label>
						    <div class="col-sm-10">
						      {{ form_widget(form.job_location, { 'attr': {'class': 'form-control', 'rows' : '3', 'placeholder' : 'Enter the job postcode', 'ng-model' : 'contact.job_location'} }) }}
						    </div>
						  </div>
							<div class="form-group">
						    <label for="inputPassword3" class="col-sm-2 control-label">Preferred Start Date *</label>
						    <div class="col-sm-10">
						      {{ form_widget(form.job_date, { 'attr': {'class': 'form-control datepicker', 'placeholder' : 'dd/mm/yy', 'ng-model' : 'contact.job_date'} }) }}
						    </div>
						  </div>
							{% if form.job_categories |length > 0 %}
						  <div class="form-group">

						    <label for="inputPassword3" class="col-sm-2 control-label">Job Category *</label>

						    <div class="col-sm-5">
									{% for formElement in form.job_categories %}
									{% if loop.index is odd %}
										<label class="checkbox-inline">
											{{ form_widget(formElement) }} {{ formElement.vars.value }}
										</label>
										<br>
										{% endif %}

									{% endfor %}
						    </div>
								<div class="col-sm-5">
									{% for formElement in form.job_categories %}
									{% if loop.index is even %}
										<label class="checkbox-inline">
											{{ form_widget(formElement) }} {{ formElement.vars.value }}
										</label>
										<br>
										{% endif %}
									{% endfor %}
						    </div>
						  </div>
							<br><br>
							{% endif %}
						  <div class="form-group">
						    <label for="inputPassword3" class="col-sm-2 control-label">Job Description *</label>
						    <div class="col-sm-10">
									  {{ form_widget(form.job_description, { 'attr': {'class': 'form-control', 'rows' : '3', 'placeholder' : 'Enter the job description', 'ng-model' : 'contact.job_description'} }) }}
						    		
						    </div>
						  </div>
							<br>
							<div class="row">
								<div class="col-md-2 col-md-offset-5 text-center">
										<div class="g-recaptcha" data-sitekey="6LfVOBUTAAAAANuA1WqMKBYBbS7dC8DwbgINIWnn" data-stoken=" {{ secureToken }}"></div>
								</div>
							</div>
							<br>
							{% if error %}
							<div class="row">
								  <div class="col-md-10 col-md-offset-2">
										<div class="alert alert-danger text-center">{{ error }}</div>
								</div>
							</div>
							<br>
							{% endif %}
							<div class="col-md-2 col-md-offset-2 text-left">
							    <button ng-disabled="contactForm.$invalid" type="submit" class="btn btn-default" style="background-color:{{ website.mainColor }}">POST</button>
								<small style="float:left">(*) mandatory</small>
							</div>
					</div>
				</div>

				</form>
				{% endif %}
			</div>
		</div>
	</div>
</section>
<section class="contact_innaerpage_bottom">
	<div class="container">
		<div class="row">
			<div class="col-sm-4">
				<div class="cbbbox">
					<div class="addr_icon"><img src="{{ asset('bundles/app/images/contact/cnt-addr-icon.png') }}" alt="" /></div>
					<div class="addrs_info">
						<p>{{ contact.addressFirstLine }}</p>
						<p>{{ contact.addressSecondLine }}</p>
					</div>
				</div>
			</div>
			<div class="col-sm-5">
				<div class="cbbbox ccb2">
					<div class="addr_icon"><img src="{{ asset('bundles/app/images/contact/cnt2.png') }}" alt="" /></div>
					<div class="addrs_info">
						<p><a href="mailto:{{ contact.email }}">{{ contact.email }}</a></p>
					</div>
				</div>
			</div>
			<div class="col-sm-3">
				<div class="cbbbox">
					<div class="addr_icon"><img src="{{ asset('bundles/app/images/contact/cnt3.png') }}" alt="" /></div>
					<div class="addrs_info phpinfo">
						<p>{{ contact.phone |replace({',': '<br>'}) | raw }}</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<section class="contactmap cmp">
	<iframe width="100%" height="310" frameborder="0" allowfullscreen="" style="border:0" src="https://www.google.com/maps/embed/v1/place?key=AIzaSyDWh2ugH_oq9rD1WRF9qH0-eIcUjEN-bEg&q={{ website.postcode }}"></iframe>
</section>
<section class="subscribe">
	<div class="container">
		<div class="row">
			<div class="col-sm-8">
				<div class="subscribe_left">
					<h2>{{ website.subscribeTitle }}</h2>
					<p>{{ website.subscribeSubtitle }}</p>
				</div>
			</div>
			<div class="col-sm-4">
				<div class="subscribe_box">
					<form action="{{ path('subscribe') }}" method="POST">
					  {{ form_widget(subscriber_form.email, { 'attr': {'placeholder': 'Email Address'} }) }}
						<input type="submit" value="GO" />
					</form>
				</div>
			</div>
		</div>
	</div>
</section>
{% endif %}
{% endblock %}


{% block javascripts %}
<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js'></script>
<script type="text/javascript" src="{{ asset('bundles/app/js/bootstrap-datepicker.js') }}"></script>
<script type="text/javascript">
$.fn.datepicker.defaults.format = "dd/mm/yyyy";
$('.datepicker').datepicker();

var app = angular.module('app', [])
.controller('MainCtrl',
function($rootScope, $scope) {
  $scope.contact = {};
});
</script>
{% endblock %}
